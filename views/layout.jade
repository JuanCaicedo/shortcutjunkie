//Mixins
mixin signInButton(type, extraClasses)
	- var condition 
	- if (type == "Sign in") { condition = "!loggedIn" } else { condition = "loggedIn" }
	div(ng-if=condition)
		button.btn.btn-primary.navbar-btn.pull-right(class=extraClasses  ng-click="execute()")
			| #{type}

mixin usernameDisplay(extraClasses)
	div.pull-right.navbar-brand.small(class=extraClasses)
		| Signed in as {{profile.first_name}} ({{profile.email}})			
//Layout
doctype html
html.container
	head
		meta(name="viewport" content="width=device-width, initial-scale=1")
		include includes/head
	body
		nav.navbar.navbar-default.navbar-inverse.navbar-fixed-top(role="navigation" ng-controller="loginController")
			div.container
				div.navbar-header
					button.navbar-toggle(type="button" data-toggle="collapse" data-target="#navbarCollapse")
						span(class="sr-only") Toggle Navigation
						span(class="icon-bar")
						span(class="icon-bar")
						span(class="icon-bar")
					a.navbar-brand#homeLink(data-toggle="collapse" data-target="#navbarCollapse" href="#") 
						| #{title}
					div(class="hidden-sm hidden-md hidden-lg")
						+signInButton("Sign in")
						+signInButton("Sign out")
					+usernameDisplay("hidden-sm hidden-md hidden-lg")
				div.collapse.navbar-collapse#navbarCollapse
					ul.nav.navbar-nav(role="menu")
						li
							a#shortcutsLink(data-toggle="collapse" data-target="#navbarCollapse" ng-href="/#/partials/shortcuts") Shortcuts Home
						li
							a#searchLink(data-toggle="collapse" data-target="#navbarCollapse" ng-href="/#/partials/search") Search
					div(class="hidden-xs")
						+signInButton("Sign in")
						+signInButton("Sign out")
						+usernameDisplay
		block content
		include includes/foot
		block extraScripts